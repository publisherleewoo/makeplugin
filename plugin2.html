<!DOCTYPE html>
<html lang="en">

<head>
     <meta charset="UTF-8">
     <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <meta http-equiv="X-UA-Compatible" content="ie=edge">
     <title>Document</title>

     <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script> -->
</head>

<body>
     <div class="test">test</div>
     <div class="test">test</div>
     <div class="test">test</div>
     <p class="test2">test</p>
     <p id="id1">test</p>

     <script>
          function $(selector) {

               var target = document.querySelectorAll(selector)

               function jQuery(target) {
                    this.selector = target;


                    jQuery.prototype.hello = function () {
                         console.log('hello')
                         return new jQuery(target)
                    }

                    jQuery.prototype.bgcolor = function (color) {
                         this.loop(this.selector, 'background', color)
                         return new jQuery(target)
                    }

                    jQuery.prototype.color = function (color) {
                         this.loop(this.selector, 'color', color)
                         return new jQuery(target)
                    }

                    jQuery.prototype.loop = function (selector, event, color) {
                         selector.forEach(function (el) {
                              el.style[event] = color
                         })
                    }

               }
               return new jQuery(target)
          }


          $('#id1').bgcolor('red').color('blue')
          $('.test').bgcolor('orange');
     </script>
</body>

</html>